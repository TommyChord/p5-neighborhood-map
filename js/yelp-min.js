"use strict";function getYelpData(e,a){var t={consumerKey:"aUS4s7TLob15R7qfqciZ4Q",consumerSecret:"gya5ocdk1gp0310pBsRNeN--_88",accessToken:"5X9eeB_BkBoHMKCx6LgMgpjUJyy26Ka9",accessTokenSecret:"oDyFWKk4JzXeC2WkRf7-ohI1IMM",serviceProvider:{signatureMethod:"HMAC-SHA1"}},s={consumerSecret:t.consumerSecret,tokenSecret:t.accessTokenSecret},o=[];o.push(["cc","NO"]),o.push(["callback","cb"]),o.push(["oauth_consumer_key",t.consumerKey]),o.push(["oauth_consumer_secret",t.consumerSecret]),o.push(["oauth_token",t.accessToken]),o.push(["oauth_signature_method","HMAC-SHA1"]);var c={action:"http://api.yelp.com/v2/business/"+e,method:"GET",parameters:o};OAuth.setTimestampAndNonce(c),OAuth.SignatureMethod.sign(c,s);var r=OAuth.getParameterMap(c.parameters);r.oauth_signature=OAuth.percentEncode(r.oauth_signature),$.ajax({url:c.action,data:r,cache:!0,dataType:"jsonp",jsonpCallback:"cb",success:function(e){var t='<hr><div class="row">';t+=e.url?'<a href="'+e.url+'" target="yelp"><img src="img/miniMapLogo.png" alt="yelp logo" title="Click to open yelp.com"></a></div>':'<img src="img/miniMapLogo.png" alt="yelp logo"></div>',e.rating_img_url_small&&(t+='<div class="row"><span class="label">Rating: </span><img src="'+e.rating_img_url_small+'" alt="Rating"></div>'),e.image_url&&(t+='<div class="row"><span class="label">Photo: </span><img src="'+e.image_url+'" alt="Photo"></div>'),a({status:"success",content:t})},error:function(){var e='<hr><div class="row"><img src="img/miniMapLogo.png" alt="yelp logo"><span class="data">Not able to connect to Yelp.com at the moment.</span></div>';a({status:"error",content:e})}})}